!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.TG=e.TG||{})}(this,function(e){"use strict";function n(e,n){function o(){var e=t.filter(function(e){return e.free});if(e.length)return e[0].free=!1,e[0];var o=r(!(t.length<n));return o.free=!1,t.length<n?t.push(o):s.push(o),o}function r(n){function o(e){r.worker?(r.worker.onmessage=function(e){r.onmessage(e),setTimeout(function(){if(r.free=!0,r.toBePosted=null,r.onmessage=null,s.length){r.free=!1;var e=s.shift();r.onmessage=e.onmessage,r.postMessage(e.toBePosted)}})},r.worker.postMessage(e)):r.toBePosted=e}var r={free:!0,worker:n?null:new Worker(e),onmessage:null,toBePosted:null,postMessage:o};return r}var t=[],s=[];return{worker:o,terminate:function(){s=[],t.forEach(function(e){e.worker&&(e.worker.onmessage=null,e.worker.terminate(),e.worker=null)}),t=[]}}}e.getWorkers=n,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=texgen-workers.js.map
